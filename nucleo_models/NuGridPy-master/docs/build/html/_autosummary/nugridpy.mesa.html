
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>nugridpy.mesa &#8212; NuGridPy 0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nugridpy.nugridse" href="nugridpy.nugridse.html" />
    <link rel="prev" title="nugridpy.h5T" href="nugridpy.h5T.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-nugridpy.mesa">
<span id="nugridpy-mesa"></span><h1>nugridpy.mesa<a class="headerlink" href="#module-nugridpy.mesa" title="Permalink to this headline">¶</a></h1>
<p>MESA output data loading and plotting</p>
<p>v0.2, 15OCT2012: NuGrid collaboration
(Sam Jones, Michael Bennett, Daniel Conti, William Hillary,
Falk Herwig, Christian Ritter)</p>
<p>v0.1, 23JUN2010: Falk Herwig</p>
<blockquote>
<div><p>mesa.py provides tools to get MESA stellar evolution data output
into your favourite python session.  In the LOGS directory MESA
outputs two types of files: history.data or star.log is a time
evolution output, printing one line per so many cycles (e.g. each
cycle) of all sorts of things.  profilennn.data or lognnn.data
files are profile data files.  nnn is the number of profile.data
or log.data files that is translated into model cycles in the
profiles.index file.</p>
<p>MESA allows users to freely define what should go into these two
types of outputs, which means that column numbers can and do
change.  mesa.py reads in both types of files and present them (as
well as any header attributes) as arrays that can be referenced by
the actual column name as defined in the header section of the
files.  mesa.py then defines a (hopefully growing) set of standard
plots that make use of the data just obtained.</p>
<p>mesa.py is organised as a module that can be imported into any
python or ipython session. It is related to nugridse.py which is a
similar module to deal with ‘se’ output, used by the NuGrid
collaboration.  mesa.py does not need se libraries.  The ‘se’ output
files that can be written with MESA can be read and processed with
the nugridse.py tool.</p>
<p>mesa.py is providing two class objects, mesa_profile and
history_data.  The first makes profile data available, the second
reads and plots the history.data or star.log file.  Note that
several instances of these can be initiated within one session and
data from different instances (i.e. models, tracks etc) can be
overplotted.</p>
<p>Here is how a simple session could look like that is plotting an
HRD (We prefer to load ipython with matplotlib and numpy support
via the alias:</p>
<p>alias mpython=’ipython –pylab’)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mesa</span> <span class="k">as</span> <span class="nn">ms</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span> <span class="n">ms</span>
<span class="go">------&gt; help(ms)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">history_data</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">hrd</span><span class="p">()</span>
</pre></div>
</div>
<p>In order to find out what header attributes and columns are
available in history.data or star.log use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">header_attr</span>
<span class="go">{&#39;burn_min1&#39;: 50.0,</span>
<span class="go"> &#39;burn_min2&#39;: 1000.0,</span>
<span class="go"> &#39;c12_boundary_limit&#39;: 0.0001,</span>
<span class="go"> &#39;h1_boundary_limit&#39;: 0.0001,</span>
<span class="go"> &#39;he4_boundary_limit&#39;: 0.0001,</span>
<span class="go"> &#39;initial_mass&#39;: 2.0,</span>
<span class="go"> &#39;initial_z&#39;: 0.01}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">cols</span>
<span class="go">{&#39;center_c12&#39;: 38,</span>
<span class="go"> &#39;center_h1&#39;: 36,</span>
<span class="go"> &#39;center_he4&#39;: 37,</span>
<span class="go"> ...</span>
</pre></div>
</div>
<p>In order to read the profile data from the first profile.data file
in profiles.index, and then get the mass and temperature out and
finally plot them try.  Typically you will have already a
Kippenhahn diagram as a function of model number in front of you,
and you want to access profile information for a given cycle
number.  Typically you do not have profiles for all cycle
numbers.  The best way to start a profile instance is with
num_type=’nearest_model’ (check the docstring for other ways to
select profiles for a profile instance):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">mesa_profile</span><span class="p">(</span><span class="s1">&#39;LOGS&#39;</span><span class="p">,</span><span class="mi">59070</span><span class="p">)</span>
<span class="go">2001 in profiles.index file ...</span>
<span class="go">Found and load nearest profile for cycle 59000</span>
<span class="go">reading LOGS/profile1801.data ...</span>
<span class="go">Closing profile tool ...</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">=</span><span class="n">a1</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span><span class="o">=</span><span class="n">a1</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mmid&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">mass</span><span class="p">,</span><span class="n">T</span><span class="p">)</span>
<span class="go">[&lt;matplotlib.lines.Line2D object at 0x8456ed0&gt;]</span>
</pre></div>
</div>
<p>Or, you could have had it easier in the following way:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;mass&#39;</span><span class="p">,</span><span class="s1">&#39;c12&#39;</span><span class="p">,</span><span class="n">logy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">shape</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s1">&#39;$^</span><span class="si">{12}</span><span class="s1">\mathrm</span><span class="si">{C}</span><span class="s1">$&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where the superclass plot method interprets data column headers
correctly and does all the work for you.</p>
<p>Of course, a1.cols etc are available here as well and many other
things. E.g. a.model contains an array with all the models for
which profile.data or log.data  are available. You may initiate a profile object
with a model number:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a2</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">mesa_profile</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="mi">55000</span><span class="p">,</span><span class="n">num_type</span><span class="o">=</span><span class="s1">&#39;model&#39;</span><span class="p">)</span>
<span class="go">100 in profiles.index file ...</span>
<span class="go">reading ./profile87.data ...</span>
</pre></div>
</div>
<p>a1.log_ind (for any profile instance) provides a map of model
number to profile file number.
a1.cols and a1.header_attr gives the column names and header attributes.</p>
</div></blockquote>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal"><span class="pre">set_nice_params</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nugridpy.mesa.set_nugrid_path" title="nugridpy.mesa.set_nugrid_path"><code class="xref py py-obj docutils literal"><span class="pre">set_nugrid_path</span></code></a>(path)</td>
<td>This function sets the path to the NuGrid VOSpace directory as a global variable, so that it need only be set once during an inter- active session.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#nugridpy.mesa.history_data" title="nugridpy.mesa.history_data"><code class="xref py py-obj docutils literal"><span class="pre">history_data</span></code></a>([sldir,&nbsp;slname,&nbsp;clean_starlog,&nbsp;…])</td>
<td>read history.data or star.log MESA output and plot various things,</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#nugridpy.mesa.mesa_profile" title="nugridpy.mesa.mesa_profile"><code class="xref py py-obj docutils literal"><span class="pre">mesa_profile</span></code></a>([sldir,&nbsp;num,&nbsp;num_type,&nbsp;…])</td>
<td>read profiles.index and prepare reading MESA profile files</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#nugridpy.mesa.star_log" title="nugridpy.mesa.star_log"><code class="xref py py-obj docutils literal"><span class="pre">star_log</span></code></a>([sldir,&nbsp;slname,&nbsp;clean_starlog,&nbsp;…])</td>
<td>Class derived from history_data class (copy).</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="nugridpy.mesa.history_data">
<em class="property">class </em><code class="descclassname">nugridpy.mesa.</code><code class="descname">history_data</code><span class="sig-paren">(</span><em>sldir='./LOGS'</em>, <em>slname='history.data'</em>, <em>clean_starlog=False</em>, <em>mass=None</em>, <em>Z=None</em>, <em>data_set='set1ext'</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data" title="Permalink to this definition">¶</a></dt>
<dd><p>read history.data or star.log MESA output and plot various things,
including HRD, Kippenhahn etc</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sldir</strong> (<em>string</em>) – which LOGS directory.</li>
<li><strong>slname</strong> (<em>string</em><em>, </em><em>optional</em>) – If star.log is available instead, star.log file is read, this
is an optional argument if history.data or star.log file has
an alternative name.  The default is “history.data”.</li>
<li><strong>clean_starlog</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Request new cleaning of history.data or star.log, makes
history.datasa or star.logsa which is the file that is actually
read and plotted.  The default is False.</li>
<li><strong>mass</strong> (<em>integer</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – The user may select a mass and metallicity instead of providing
the sldir explicitly, if they are using the VOSpace data. If mass
is provided then Z should also be provided.
The default is None (i.e. user gives sldir explicitly)</li>
<li><strong>Z</strong> (<em>float</em><em>, </em><em>optional</em>) – See ‘mass’ above.
The default is None (i.e. user gives sldir explicitly)</li>
<li><strong>data_set</strong> (<em>string</em><em>, </em><em>optional</em>) – Coose your data  of ‘set1’ or ‘set1ext’.  The default is ‘set1ext’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>use like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">another</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">history_data</span><span class="p">(</span><span class="s1">&#39;LOGS&#39;</span><span class="p">,</span><span class="n">slname</span><span class="o">=</span><span class="s1">&#39;anothername&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span><span class="o">.</span><span class="n">set_nugrid_path</span><span class="p">(</span><span class="s1">&#39;/tmp/NuGrid&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">anotherone</span><span class="o">=</span><span class="n">ms</span><span class="o">.</span><span class="n">history_data</span><span class="p">(</span><span class="n">mass</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">Z</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="nugridpy.mesa.history_data.CO_ratio">
<code class="descname">CO_ratio</code><span class="sig-paren">(</span><em>ifig</em>, <em>ixaxis</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.CO_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>plot surface C/O ratio in Figure ifig with x-axis quantity ixaxis</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em>) – Figure number in which to plot</li>
<li><strong>ixaxis</strong> (<em>string</em>) – what quantity is to be on the x-axis, either ‘time’ or ‘model’
The default is ‘model’</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.TPAGB_properties">
<code class="descname">TPAGB_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.TPAGB_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporary, use for now same function in nugrid_set.py!
Returns many TPAGB parameters which are
TPstart,TPmods,TP_max_env,TPend,min_m_TP,max_m_TP,DUPmods,DUPm_min_h
Same function in nugrid_set.py.</p>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.calc_DUP_parameter">
<code class="descname">calc_DUP_parameter</code><span class="sig-paren">(</span><em>modeln</em>, <em>label</em>, <em>fig=10</em>, <em>color='r'</em>, <em>marker_type='*'</em>, <em>h_core_mass=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.calc_DUP_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to calculate the DUP parameter evolution for different
TPs specified specified by their model number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fig</strong> (<em>integer</em>) – Figure number to plot.</li>
<li><strong>modeln</strong> (<em>list</em>) – Array containing pairs of models each corresponding to a
TP. First model where h boundary mass will be taken before
DUP, second model where DUP reaches lowest mass.</li>
<li><strong>leg</strong> (<em>string</em>) – Plot label.</li>
<li><strong>color</strong> (<em>string</em>) – Color of the plot.</li>
<li><strong>marker_type</strong> (<em>string</em>) – marker type.</li>
<li><strong>h_core_mass</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True: plot dependence from h free core , else star mass.
The default is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.find_TP_attributes">
<code class="descname">find_TP_attributes</code><span class="sig-paren">(</span><em>t0_model=0</em>, <em>fig=10</em>, <em>color='k'</em>, <em>marker_type='*'</em>, <em>h_core_mass=False</em>, <em>no_fig=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.find_TP_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which finds TPs and uses the calc_DUP_parameter
function.  To calculate DUP parameter evolution dependent of
the star or core mass.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fig</strong> (<em>integer</em>) – </li>
<li><strong>number to plot.</strong> (<em>Figure</em>) – </li>
<li><strong>t0_model</strong> (<em>integer</em>) – </li>
<li><strong>he-shell lum peak</strong> (<em>First</em>) – </li>
<li><strong>color</strong> (<em>string</em>) – </li>
<li><strong>of the plot.</strong> (<em>Color</em>) – </li>
<li><strong>marker_type</strong> (<em>string</em>) – </li>
<li><strong>type.</strong> (<em>marker</em>) – </li>
<li><strong>h_core_mass</strong> (<em>boolean</em><em>, </em><em>optional</em>) – </li>
<li><strong>True</strong> (<em>If</em>) – </li>
<li><strong>default is False.</strong> (<em>The</em>) – </li>
<li><strong>no_fig</strong> (<em>boolean</em><em>, </em><em>optional</em>) – </li>
<li><strong>default is False.</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.find_TPs_and_DUPs">
<code class="descname">find_TPs_and_DUPs</code><span class="sig-paren">(</span><em>percent=5.0</em>, <em>makefig=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.find_TPs_and_DUPs" title="Permalink to this definition">¶</a></dt>
<dd><p>Function which finds TPs and uses the calc_DUP_parameter
function.  To calculate DUP parameter evolution dependent of
the star or core mass.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fig</strong> (<em>integer</em>) – Figure number to plot.</li>
<li><strong>t0_model</strong> (<em>integer</em>) – First he-shell lum peak.</li>
<li><strong>percent</strong> (<em>float</em>) – dredge-up is defined as when the mass dredged up is a certain
percent of the total mass dredged up during that event, which
is set by the user in this variable.
The default is 5.</li>
<li><strong>makefig</strong> – do you want a figure to be made?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>TPmods</strong> (<em>array</em>) – model numbers at the peak of each thermal pulse</li>
<li><strong>DUPmods</strong> (<em>array</em>) – model numbers at the dredge-up, where dredge-up is defined as
when the mass dredged up is a certain percent of the total mass
dredged up during that event, which is set by the user</li>
<li><strong>TPend</strong> (<em>array</em>) – model numbers at the end of the PDCZ for each TP</li>
<li><strong>lambda</strong> (<em>array</em>) – DUP efficiency for each pulse</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.find_first_TP">
<code class="descname">find_first_TP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.find_first_TP" title="Permalink to this definition">¶</a></dt>
<dd><p>Find first TP of the TPAGB phase and returns the model
number at its LHe maximum.</p>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>str_name</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.get" title="Permalink to this definition">¶</a></dt>
<dd><p>return a column of data with the name str_name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>str_name</strong> (<em>string</em>) – The name of the column as printed in history.data or
star.log get the available columns from self.cols (where
you replace self with the name of your instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.hrd">
<code class="descname">hrd</code><span class="sig-paren">(</span><em>ifig=None</em>, <em>label=None</em>, <em>colour=None</em>, <em>s2ms=False</em>, <em>dashes=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.hrd" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot an HR diagram</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em> or </em><em>string</em>) – Figure label, if None the current figure is used
The default value is None.</li>
<li><strong>lims</strong> (<em>list</em><em> [</em><em>x_lower</em><em>, </em><em>x_upper</em><em>, </em><em>y_lower</em><em>, </em><em>y_upper</em><em>]</em>) – </li>
<li><strong>label</strong> (<em>string</em>) – Label for the model
The default value is None</li>
<li><strong>colour</strong> (<em>string</em>) – The colour of the line
The default value is None</li>
<li><strong>s2ms</strong> (<em>boolean</em><em>, </em><em>optional</em>) – “Skip to Main Sequence”?
The default is False.</li>
<li><strong>dashes</strong> (<em>list</em><em>, </em><em>optional</em>) – Custom dashing style. If None, ignore.
The default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.hrd_key">
<code class="descname">hrd_key</code><span class="sig-paren">(</span><em>key_str</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.hrd_key" title="Permalink to this definition">¶</a></dt>
<dd><p>plot an HR diagram</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key_str</strong> (<em>string</em>) – A label string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.hrd_new">
<code class="descname">hrd_new</code><span class="sig-paren">(</span><em>input_label=''</em>, <em>skip=0</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.hrd_new" title="Permalink to this definition">¶</a></dt>
<dd><p>plot an HR diagram with options to skip the first N lines and
add a label string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_label</strong> (<em>string</em><em>, </em><em>optional</em>) – Diagram label.  The default is “”.</li>
<li><strong>skip</strong> (<em>integer</em><em>, </em><em>optional</em>) – Skip the first n lines.  The default is 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.kip_cont">
<code class="descname">kip_cont</code><span class="sig-paren">(</span><em>ifig=110, modstart=0, modstop=-1, t0_model=0, outfile='out.png', xlims=[0.0, 0.0], ylims=[0.0, 0.0], xres=1000, yres=1000, ixaxis='model_number', mix_zones=20, burn_zones=20, plot_radius=False, engenPlus=True, engenMinus=False, landscape_plot=False, rad_lines=False, profiles=[], showfig=True, outlines=True, boundaries=True, c12_boundary=False, rasterise=False, yscale='1.', engenlevels=None, CBM=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.kip_cont" title="Permalink to this definition">¶</a></dt>
<dd><p>This function creates a Kippenhahn plot with energy flux using
contours.</p>
<p>This plot uses mixing_regions and burning_regions written to
your history.data or star.log. Set both variables in the
log_columns.list file to 20 as a start.</p>
<p>The output log file should then contain columns called
“mix_type_n”, “mix_qtop_n”, “burn_type_n” and “burn_qtop_n”.
The number of columns (i.e. the biggest value of n) is what
goes in the arguments as mix_zones and burn_zones.  DO NOT
WORRY! if you do not have these columns, just leave the default
values alone and the script should recognise that you do not
have these columns and make the most detailed plot that is
available to you.</p>
<p>Defaults are set to get some plot, that may not look great if
you zoom in interactively. Play with xres and yres as well as
setting the xlims to ylims to the region you are interested in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em>, </em><em>optional</em>) – Figure frame number.  The default is 110.</li>
<li><strong>modstart</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model from which you want to plot (be careful if your
history.data or star.log output is sparse…).  If it is
0 then it starts from the beginning, works even if
log_cnt &gt; 1.
The default is 0.</li>
<li><strong>modstop</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model to which you wish to plot, -1 corresponds to end
[if log_cnt&gt;1, devide modstart and modstop by log_cnt,
this needs to be improved! SJ: this should be ficed now].
The defalut is -1.</li>
<li><strong>t0_model</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model number from which to reset the time to 0. Typically,
if modstart!=0, t0_model=modstart is a good choice, but we
leave the choice to the user in case the time is wished to
start from 0 at a different key point of the evolution.
The default value is 0.</li>
<li><strong>outfile</strong> (<em>sting</em><em>, </em><em>optional</em>) – ‘filename + extension’ where you want to save the figure.
The defalut is “out.png”.</li>
<li><strong>ylims</strong> (<em>xlims</em><em>,</em>) – Plot limits, however these are somewhat obsolete now that
we have modstart and modstop.  Leaving them as 0. is
probably no slower, and you can always zoom in afterwards
in mpl.  ylims is important for well resolved thermal
pulse etc plots; it’s best to get the upper and lower limits
of he-intershell using s.kippenhahn_CO(1,’model’) first.
The default is [0., 0.].</li>
<li><strong>yres</strong> (<em>xres</em><em>,</em>) – plot resolution. Needless to say that increasing these
values will yield a nicer plot with some slow-down in
plotting time.  You will most commonly change xres.  For a
prelim plot, try xres~200, then bump it up to anywhere from
1000-10000 for real nicely resolved, publication quality
plots.  The default is 1000.</li>
<li><strong>ixaxis</strong> (<em>string</em><em>, </em><em>optional</em>) – Either ‘log_time_left’, ‘age’, or ‘model_number’.  The
default is “model_number”.</li>
<li><strong>burn_zones</strong> (<em>mix_zones</em><em>,</em>) – As described above, if you have more detailed output about
your convection and energy generation boundaries in columns
mix_type_n, mix_qtop_n, burn_type_n and burn_qtop_n, you
need to specify the total number of columns for mixing zones
and burning zones that you have.  Can’t work this out from
your history.data or star.log file?  Check the
history_columns.list that you used, it’ll be the number
after “mixing regions” and “burning regions”.  Can’t see
these columns?  leave it and 2 conv zones and 2 burn zones
will be drawn using other data that you certainly should
have in your history.data or star.log file.  The defalut for
both is 20.</li>
<li><strong>plot_radius</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether on a second y-axis you want to plot the radius of
the surface and the he-free core.  The default is False.</li>
<li><strong>engenPlus</strong> (<em>boolean</em>) – Plot energy generation contours for eps_nuc&gt;0.  The default
is True.</li>
<li><strong>endgenMinus</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Plot energy generation contours for eos_nuc&lt;0.  The default
is True.</li>
<li><strong>landscape_plot</strong> (<em>boolean</em><em>, </em><em>optionla</em>) – The default is False.</li>
<li><strong>rad_lines</strong> (<em>boolean</em><em>, </em><em>optional</em>) – The deafault is False.</li>
<li><strong>profiles</strong> (<em>list</em><em>, </em><em>optional</em>) – The default is [].</li>
<li><strong>showfig</strong> (<em>boolean</em><em>, </em><em>optional</em>) – The default is True.</li>
<li><strong>outlines</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to plot outlines of conv zones in darker
colour.</li>
<li><strong>boundaries</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to plot H-, He- and C-free boundaries.</li>
<li><strong>c12_boundary</strong> (<em>boolean</em><em>, </em><em>optional</em>) – The default is False.</li>
<li><strong>rasterise</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to rasterise the contour regions to make
smaller vector graphics figures.  The default is False.</li>
<li><strong>yscale</strong> (<em>string</em><em>, </em><em>optional</em>) – Re-scale the y-axis by this amount</li>
<li><strong>engenlevels</strong> (<em>list</em>) – Give cusstom levels to the engenPlus contour. If None,
the levels are chosen automatically.
The default is None.</li>
<li><strong>CBM</strong> (<em>boolean</em><em>, </em><em>optional</em>) – plot contours for where CBM is active?</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The parameter xlims is depricated.</p>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.kip_cont_COmdot">
<code class="descname">kip_cont_COmdot</code><span class="sig-paren">(</span><em>ifig=110, modstart=0, modstop=-1, t0_model=0, outfile='out.png', xlims=[0.0, 0.0], ylims=[0.0, 0.0], xres=1000, yres=1000, ixaxis='model_number', mix_zones=20, burn_zones=20, plot_radius=False, engenPlus=True, engenMinus=False, landscape_plot=False, rad_lines=False, profiles=[], showfig=True, outlines=True, boundaries=True, c12_boundary=False, rasterise=False, yscale='1.', engenlevels=None, CO_ratio=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.kip_cont_COmdot" title="Permalink to this definition">¶</a></dt>
<dd><p>This function creates a Kippenhahn plot with energy flux using
contours.</p>
<p>This plot uses mixing_regions and burning_regions written to
your history.data or star.log. Set both variables in the
log_columns.list file to 20 as a start.</p>
<p>The output log file should then contain columns called
“mix_type_n”, “mix_qtop_n”, “burn_type_n” and “burn_qtop_n”.
The number of columns (i.e. the biggest value of n) is what
goes in the arguments as mix_zones and burn_zones.  DO NOT
WORRY! if you do not have these columns, just leave the default
values alone and the script should recognise that you do not
have these columns and make the most detailed plot that is
available to you.</p>
<p>Defaults are set to get some plot, that may not look great if
you zoom in interactively. Play with xres and yres as well as
setting the xlims to ylims to the region you are interested in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em>, </em><em>optional</em>) – Figure frame number.  The default is 110.</li>
<li><strong>modstart</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model from which you want to plot (be careful if your
history.data or star.log output is sparse…).  If it is
0 then it starts from the beginning, works even if
log_cnt &gt; 1.
The default is 0.</li>
<li><strong>modstop</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model to which you wish to plot, -1 corresponds to end
[if log_cnt&gt;1, devide modstart and modstop by log_cnt,
this needs to be improved! SJ: this should be ficed now].
The defalut is -1.</li>
<li><strong>t0_model</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model number from which to reset the time to 0. Typically,
if modstart!=0, t0_model=modstart is a good choice, but we
leave the choice to the user in case the time is wished to
start from 0 at a different key point of the evolution.
The default value is 0.</li>
<li><strong>outfile</strong> (<em>sting</em><em>, </em><em>optional</em>) – ‘filename + extension’ where you want to save the figure.
The defalut is “out.png”.</li>
<li><strong>ylims</strong> (<em>xlims</em><em>,</em>) – Plot limits, however these are somewhat obsolete now that
we have modstart and modstop.  Leaving them as 0. is
probably no slower, and you can always zoom in afterwards
in mpl.  ylims is important for well resolved thermal
pulse etc plots; it’s best to get the upper and lower limits
of he-intershell using s.kippenhahn_CO(1,’model’) first.
The default is [0., 0.].</li>
<li><strong>yres</strong> (<em>xres</em><em>,</em>) – plot resolution. Needless to say that increasing these
values will yield a nicer plot with some slow-down in
plotting time.  You will most commonly change xres.  For a
prelim plot, try xres~200, then bump it up to anywhere from
1000-10000 for real nicely resolved, publication quality
plots.  The default is 1000.</li>
<li><strong>ixaxis</strong> (<em>string</em><em>, </em><em>optional</em>) – Either ‘log_time_left’, ‘age’, or ‘model_number’.  The
default is “model_number”.</li>
<li><strong>burn_zones</strong> (<em>mix_zones</em><em>,</em>) – As described above, if you have more detailed output about
your convection and energy generation boundaries in columns
mix_type_n, mix_qtop_n, burn_type_n and burn_qtop_n, you
need to specify the total number of columns for mixing zones
and burning zones that you have.  Can’t work this out from
your history.data or star.log file?  Check the
history_columns.list that you used, it’ll be the number
after “mixing regions” and “burning regions”.  Can’t see
these columns?  leave it and 2 conv zones and 2 burn zones
will be drawn using other data that you certainly should
have in your history.data or star.log file.  The defalut for
both is 20.</li>
<li><strong>plot_radius</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether on a second y-axis you want to plot the radius of
the surface and the he-free core.  The default is False.</li>
<li><strong>engenPlus</strong> (<em>boolean</em>) – Plot energy generation contours for eps_nuc&gt;0.  The default
is True.</li>
<li><strong>endgenMinus</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Plot energy generation contours for eos_nuc&lt;0.  The default
is True.</li>
<li><strong>landscape_plot</strong> (<em>boolean</em><em>, </em><em>optionla</em>) – The default is False.</li>
<li><strong>rad_lines</strong> (<em>boolean</em><em>, </em><em>optional</em>) – The deafault is False.</li>
<li><strong>profiles</strong> (<em>list</em><em>, </em><em>optional</em>) – The default is [].</li>
<li><strong>showfig</strong> (<em>boolean</em><em>, </em><em>optional</em>) – The default is True.</li>
<li><strong>outlines</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to plot outlines of conv zones in darker
colour.</li>
<li><strong>boundaries</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to plot H-, He- and C-free boundaries.</li>
<li><strong>c12_boundary</strong> (<em>boolean</em><em>, </em><em>optional</em>) – The default is False.</li>
<li><strong>rasterise</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether or not to rasterise the contour regions to make
smaller vector graphics figures.  The default is False.</li>
<li><strong>yscale</strong> (<em>string</em><em>, </em><em>optional</em>) – Re-scale the y-axis by this amount</li>
<li><strong>engenlevels</strong> (<em>list</em>) – Give cusstom levels to the engenPlus contour. If None,
the levels are chosen automatically.
The default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The parameter xlims is depricated.</p>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.kippenhahn">
<code class="descname">kippenhahn</code><span class="sig-paren">(</span><em>num_frame</em>, <em>xax</em>, <em>t0_model=0</em>, <em>title='Kippenhahn diagram'</em>, <em>tp_agb=0.0</em>, <em>t_eps=500.0</em>, <em>plot_star_mass=True</em>, <em>symbol_size=8</em>, <em>c12_bm=False</em>, <em>print_legend=True</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.kippenhahn" title="Permalink to this definition">¶</a></dt>
<dd><p>Kippenhahn plot as a function of time or model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_frame</strong> (<em>integer</em>) – Number of frame to plot this plot into, if &lt;0 open no new
figure.</li>
<li><strong>xax</strong> (<em>string</em>) – Either ‘model’, ‘time’ or ‘logtimerev’ to indicate what is
to be used on the x-axis.</li>
<li><strong>t0_model</strong> (<em>integer</em><em>, </em><em>optional</em>) – If xax = ‘time’ then model for the zero point in time, for
AGB plots this would be usually the model of the 1st TP,
which can be found with the Kippenhahn plot.  The default
is 0.</li>
<li><strong>title</strong> (<em>string</em><em>, </em><em>optional</em>) – The figure title.  The default is “Kippenhahn diagram”.</li>
<li><strong>tp_agb</strong> (<em>float</em><em>, </em><em>optional</em>) – If &gt; 0. then,
ylim=[h1_min*1.-tp_agb/100 : h1_max*1.+tp_agb/100] with
h1_min, h1_max the min and max H-free core mass coordinate.
The default is 0. .</li>
<li><strong>t_eps</strong> (<em>float</em><em>, </em><em>optional</em>) – Final time for logtimerev.  The default is ‘5.e2’.</li>
<li><strong>plot_star_mass</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If True, then plot the stellar mass as a line as well.  The
default is True.</li>
<li><strong>symbol_size</strong> (<em>integer</em><em>, </em><em>optional</em>) – Size of convection boundary marker.  The default is 8.</li>
<li><strong>c12_bm</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If we plot c12_boundary_mass or not.  The default is False.</li>
<li><strong>print_legend</strong> (<em>boolean</em><em>, </em><em>optionla</em>) – Show or do not show legend.  The defalut is True.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.kippenhahn_CO">
<code class="descname">kippenhahn_CO</code><span class="sig-paren">(</span><em>num_frame, xax, t0_model=0, title='Kippenhahn diagram', tp_agb=0.0, ylim_CO=[0, 0]</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.kippenhahn_CO" title="Permalink to this definition">¶</a></dt>
<dd><p>Kippenhahn plot as a function of time or model with CO ratio</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_frame</strong> (<em>integer</em>) – Number of frame to plot this plot into.</li>
<li><strong>xax</strong> (<em>string</em>) – Either model or time to indicate what is to be used on the
x-axis.</li>
<li><strong>t0_model</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model for the zero point in time, for AGB plots this would
be usually the model of the 1st TP, which can be found with
the Kippenhahn plot.  The default is 0.</li>
<li><strong>title</strong> (<em>string</em><em>, </em><em>optional</em>) – Figure title.  The defalut is “Kippenhahn diagram”.</li>
<li><strong>tp_agb</strong> (<em>float</em><em>, </em><em>optional</em>) – If &gt;= 0 then,
ylim=[h1_min*1.-tp_agb/100 : h1_max*1.+tp_agb/100] with
h1_min, h1_max the min and max H-free core mass coordinate.
The defalut is 0.</li>
<li><strong>ylim_CO</strong> (<em>list</em>) – if ylim_CO is [0,0], then it is automaticly set.  The
default is [0,0].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.mcc_t">
<code class="descname">mcc_t</code><span class="sig-paren">(</span><em>ifig=None, lims=[0, 15, 0, 25], label=None, colour=None, mask=False, s2ms=False, dashes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.mcc_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot mass of convective core as a function of time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em> or </em><em>string</em>) – Figure label, if None the current figure is used
The default value is None.</li>
<li><strong>lims</strong> (<em>list</em><em> [</em><em>x_lower</em><em>, </em><em>x_upper</em><em>, </em><em>y_lower</em><em>, </em><em>y_upper</em><em>]</em>) – </li>
<li><strong>label</strong> (<em>string</em>) – Label for the model
The default value is None</li>
<li><strong>colour</strong> (<em>string</em>) – The colour of the line
The default value is None</li>
<li><strong>mask</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Do you want to try to hide numerical spikes in the
plot?
The default is False</li>
<li><strong>s2ms</strong> (<em>boolean</em><em>, </em><em>optional</em>) – skip to main squence?</li>
<li><strong>dashes</strong> (<em>list</em><em>, </em><em>optional</em>) – Custom dashing style. If None, ignore.
The default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.mdot_t">
<code class="descname">mdot_t</code><span class="sig-paren">(</span><em>ifig=None, lims=[7.4, 2.6, -8.5, -4.5], label=None, colour=None, s2ms=False, dashes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.mdot_t" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot mass loss history as a function of log-time-left</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em> or </em><em>string</em>) – Figure label, if None the current figure is used
The default value is None.</li>
<li><strong>lims</strong> (<em>list</em><em> [</em><em>x_lower</em><em>, </em><em>x_upper</em><em>, </em><em>y_lower</em><em>, </em><em>y_upper</em><em>]</em>) – </li>
<li><strong>label</strong> (<em>string</em>) – Label for the model
The default value is None</li>
<li><strong>colour</strong> (<em>string</em>) – The colour of the line
The default value is None</li>
<li><strong>s2ms</strong> (<em>boolean</em><em>, </em><em>optional</em>) – “skip to main sequence”</li>
<li><strong>dashes</strong> (<em>list</em><em>, </em><em>optional</em>) – Custom dashing style. If None, ignore.
The default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.t_lumi">
<code class="descname">t_lumi</code><span class="sig-paren">(</span><em>num_frame</em>, <em>xax</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.t_lumi" title="Permalink to this definition">¶</a></dt>
<dd><p>Luminosity evolution as a function of time or model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_frame</strong> (<em>integer</em>) – Number of frame to plot this plot into.</li>
<li><strong>xax</strong> (<em>string</em>) – Either model or time to indicate what is to be used on the
x-axis</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.t_surf_parameter">
<code class="descname">t_surf_parameter</code><span class="sig-paren">(</span><em>num_frame</em>, <em>xax</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.t_surf_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Surface parameter evolution as a function of time or model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_frame</strong> (<em>integer</em>) – Number of frame to plot this plot into.</li>
<li><strong>xax</strong> (<em>string</em>) – Either model or time to indicate what is to be used on the
x-axis</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.t_surfabu">
<code class="descname">t_surfabu</code><span class="sig-paren">(</span><em>num_frame</em>, <em>xax</em>, <em>t0_model=0</em>, <em>title='surface abundance'</em>, <em>t_eps=0.001</em>, <em>plot_CO_ratio=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.t_surfabu" title="Permalink to this definition">¶</a></dt>
<dd><p>t_surfabu plots surface abundance evolution as a function of
time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>num_frame</strong> (<em>integer</em>) – Number of frame to plot this plot into, if &lt;0 don’t open
figure.</li>
<li><strong>xax</strong> (<em>string</em>) – Either model, time or logrevtime to indicate what is to be
used on the x-axis.</li>
<li><strong>t0_model</strong> (<em>integer</em><em>, </em><em>optional</em>) – Model for the zero point in time, for AGB plots this would
be usually the model of the 1st TP, which can be found with
the Kippenhahn plot.  The default is 0.</li>
<li><strong>title</strong> (<em>string</em><em>, </em><em>optional</em>) – Figure title.  The default is “surface abundance”.</li>
<li><strong>t_eps</strong> (<em>float</em><em>, </em><em>optional</em>) – Time eps at end for logrevtime.  The default is 1.e-3.</li>
<li><strong>plot_CO_ratio</strong> (<em>boolean</em><em>, </em><em>optional</em>) – On second axis True/False.  The default is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.tcrhoc">
<code class="descname">tcrhoc</code><span class="sig-paren">(</span><em>ifig=None, lims=[3.0, 10.0, 8.0, 10.0], label=None, colour=None, dashes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.tcrhoc" title="Permalink to this definition">¶</a></dt>
<dd><p>Central temperature again central density plot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em> or </em><em>string</em>) – Figure label, if None the current figure is used
The default value is None.</li>
<li><strong>lims</strong> (<em>list</em><em> [</em><em>x_lower</em><em>, </em><em>x_upper</em><em>, </em><em>y_lower</em><em>, </em><em>y_upper</em><em>]</em>) – </li>
<li><strong>label</strong> (<em>string</em>) – Label for the model
The default value is None</li>
<li><strong>colour</strong> (<em>string</em>) – The colour of the line
The default value is None</li>
<li><strong>dashes</strong> (<em>list</em><em>, </em><em>optional</em>) – Custom dashing style. If None, ignore.
The default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.history_data.xche4_teff">
<code class="descname">xche4_teff</code><span class="sig-paren">(</span><em>ifig=None, lims=[1.0, 0.0, 3.4, 4.7], label=None, colour=None, s2ms=True, dashes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.history_data.xche4_teff" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot effective temperature against central helium abundance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ifig</strong> (<em>integer</em><em> or </em><em>string</em>) – Figure label, if None the current figure is used
The default value is None.</li>
<li><strong>lims</strong> (<em>list</em><em> [</em><em>x_lower</em><em>, </em><em>x_upper</em><em>, </em><em>y_lower</em><em>, </em><em>y_upper</em><em>]</em>) – </li>
<li><strong>label</strong> (<em>string</em>) – </li>
<li><strong>for the model</strong> (<em>Label</em>) – The default value is None</li>
<li><strong>colour</strong> (<em>string</em>) – The colour of the line
The default value is None</li>
<li><strong>s2ms</strong> (<em>boolean</em><em>, </em><em>optional</em>) – “Skip to Main Sequence”
The default is True</li>
<li><strong>dashes</strong> (<em>list</em><em>, </em><em>optional</em>) – Custom dashing style. If None, ignore.
The default is None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nugridpy.mesa.mesa_profile">
<em class="property">class </em><code class="descclassname">nugridpy.mesa.</code><code class="descname">mesa_profile</code><span class="sig-paren">(</span><em>sldir='./LOGS'</em>, <em>num=1</em>, <em>num_type='nearest_model'</em>, <em>prof_ind_name='profiles.index'</em>, <em>profile_prefix='profile'</em>, <em>data_suffix='.data'</em>, <em>mass=None</em>, <em>Z=None</em>, <em>give_filename=None</em>, <em>data_set='set1ext'</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.mesa_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>read profiles.index and prepare reading MESA profile files</p>
<p>starts with reading profiles.index and creates hash array
profile.data can then be accessed via prof_plot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sldir</strong> (<em>string</em>) – Directory path of LOGS.</li>
<li><strong>num</strong> (<em>integer</em>) – by default this is the i.  profile file (profile.data or
log.data) available (e.g. num=1 is the 1. available profile
file), however if you give</li>
<li><strong>num_type</strong> (<em>string</em><em>, </em><em>optional</em>) – <p>If ‘model’ (exact) or ‘nearest_model’: get the profile
profile.data file for model (or cycle number) used by the
stellar evolution code</p>
<p>If ‘profile_num’: num will be interpreted as the
profile.data or log.data number profile_num (profile_num is
the number that appears in the file names of type
profile23.data or log23.data)</p>
<p>If ‘profiles_i’: the ith file in profiles.index file</p>
<p>If ‘explicit’: the exact file path of the profile file
should be given in the variable give_filename.</p>
<p>The default is “nearest_model”.</p>
</li>
<li><strong>prof_ind_name</strong> (<em>string</em><em>, </em><em>optional</em>) – Use this optional argument if the profiles.index file has
an alternative name, for example, do
superpro=ms.profile(‘LOGS’,1,prof_ind_name=’super.prof’)</li>
<li><strong>profile_prefix</strong> (<em>string</em><em>, </em><em>optional</em>) – Prifix in the profile name.  The default is “profile”.</li>
<li><strong>data_suffix</strong> (<em>string</em><em>, </em><em>optional</em>) – Optional arguments that allow you to change the defaults
for the profile.data profile files.</li>
<li><strong>mass</strong> (<em>integer</em><em> or </em><em>float</em><em>, </em><em>optional</em>) – The user may select a mass and metallicity instead of providing
the sldir explicitly, if they are using the VOSpace data. If mass
is provided then Z should also be provided.
The default is None (i.e. user gives sldir explicitly)</li>
<li><strong>Z</strong> (<em>float</em><em>, </em><em>optional</em>) – See ‘mass’ above.
The default is None (i.e. user gives sldir explicitly)</li>
<li><strong>data_set</strong> (<em>string</em><em>, </em><em>optional</em>) – Coose your data  of ‘set1’ or ‘set1ext’.  The default is ‘set1ext’.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>initialise a mesa_profile instance for cycle 2000 like this:</p>
<p>&gt;&gt;&gt;my_profile1=ms.mesa_profile(‘LOGS’,2000)</p>
<p>or like this:</p>
<p>&gt;&gt;&gt;my_profile2=ms.mesa_profile(mass=2,Z=0.01,num=2000)</p>
<dl class="method">
<dt id="nugridpy.mesa.mesa_profile.energy_profile">
<code class="descname">energy_profile</code><span class="sig-paren">(</span><em>ixaxis</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.mesa_profile.energy_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot radial profile of key energy generations eps_nuc,
eps_neu etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ixaxis</strong> (<em>'mass'</em><em> or </em><em>'radius'</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.mesa_profile.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>str_name</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.mesa_profile.get" title="Permalink to this definition">¶</a></dt>
<dd><p>return a column of data with the name str_name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>str_name</strong> (<em>string</em>) – Is the name of the column as printed in the
profilennn.data or lognnn.data file; get the available
columns from self.cols (where you replace self with the
name of your instance)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.mesa_profile.write_LEAFS_model">
<code class="descname">write_LEAFS_model</code><span class="sig-paren">(</span><em>nzn=30000000</em>, <em>dr=50000.0</em>, <em>rhostrip=0.0005</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.mesa_profile.write_LEAFS_model" title="Permalink to this definition">¶</a></dt>
<dd><p>write an ascii file that will be read by Sam’s version of
inimod.F90 in order to make an initial model for LEAFS</p>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.mesa_profile.write_PROM_HOTB_progenitor">
<code class="descname">write_PROM_HOTB_progenitor</code><span class="sig-paren">(</span><em>name</em>, <em>description</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.mesa_profile.write_PROM_HOTB_progenitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a progenitor file for the PROMETHEUS/HBOT supernova code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>string</em>) – File name for the progenitor file</li>
<li><strong>description</strong> (<em>string</em>) – Information to be written into the file header.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nugridpy.mesa.mesa_profile.write_STELLA_model">
<code class="descname">write_STELLA_model</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.mesa_profile.write_STELLA_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an initial model in a format that may easily be read by the
radiation hydrodynamics code STELLA.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>string</em>) – an identifier for the model. There are two output files from
this method, which will be &lt;name&gt;.hyd and &lt;name&gt;.abn, which
contain the profiles for the hydro and abundance variables,
respectively.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="nugridpy.mesa.set_nugrid_path">
<code class="descclassname">nugridpy.mesa.</code><code class="descname">set_nugrid_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.set_nugrid_path" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets the path to the NuGrid VOSpace directory as a
global variable, so that it need only be set once during an inter-
active session.</p>
</dd></dl>

<dl class="class">
<dt id="nugridpy.mesa.star_log">
<em class="property">class </em><code class="descclassname">nugridpy.mesa.</code><code class="descname">star_log</code><span class="sig-paren">(</span><em>sldir='./LOGS'</em>, <em>slname='history.data'</em>, <em>clean_starlog=False</em>, <em>mass=None</em>, <em>Z=None</em>, <em>data_set='set1ext'</em><span class="sig-paren">)</span><a class="headerlink" href="#nugridpy.mesa.star_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Class derived from history_data class (copy). Existing just (for
compatibility reasons) for older mesa python scripts.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../documentation.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">NuGridPy</h1>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=NuGrid&repo=NuGridPy&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a href="https://travis-ci.org/NuGrid/NuGridPy">
    <img
        alt="https://secure.travis-ci.org/NuGrid/NuGridPy.svg?branch=master"
        src="https://secure.travis-ci.org/NuGrid/NuGridPy.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="nugridpy.astronomy.html">nugridpy.astronomy</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.ascii_table.html">nugridpy.ascii_table</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.data_plot.html">nugridpy.data_plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.grain.html">nugridpy.grain</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.h5T.html">nugridpy.h5T</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">nugridpy.mesa</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.nugridse.html">nugridpy.nugridse</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.ppn.html">nugridpy.ppn</a></li>
<li class="toctree-l1"><a class="reference internal" href="nugridpy.utils.html">nugridpy.utils</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://nugrid.github.io/NuGridPy/">Main website</a></li>
    
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Nugrid.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/_autosummary/nugridpy.mesa.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>